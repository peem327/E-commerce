{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{reduxForm,Field}from\"redux-form\";import FormField from\"../common/FormField\";import{productFormField}from\"./formFields\";var ProductForm=/*#__PURE__*/function(_Component){_inherits(ProductForm,_Component);var _super=_createSuper(ProductForm);function ProductForm(){_classCallCheck(this,ProductForm);return _super.apply(this,arguments);}_createClass(ProductForm,[{key:\"renderFields\",value:function renderFields(formFields){return formFields.map(function(_ref){var label=_ref.label,name=_ref.name,type=_ref.type,required=_ref.required;return/*#__PURE__*/React.createElement(Field,{key:name,name:name,type:type,component:FormField,label:label,required:required});});}},{key:\"render\",value:function render(){var onProductSubmit=this.props.onProductSubmit;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.props.handleSubmit(onProductSubmit)},this.renderFields(productFormField),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-block btn-info title\",type:\"submit\"},\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")));}}]);return ProductForm;}(Component);function validate(values){console.log(values);var errors={};productFormField.forEach(function(_ref2){var name=_ref2.name,required=_ref2.required;if(!values[name]&&required){errors[name]='กรุณากรอกข้อมูลด้วยค่ะ';}});return errors;}function mapStateToProps(_ref3){var products=_ref3.products;if(products&&products.id){return{initialValues:products};}else{return{};}}ProductForm=reduxForm({validate:validate,form:\"productForm\"})(ProductForm);export default connect(mapStateToProps)(ProductForm);","map":{"version":3,"sources":["C:/Users/User/Desktop/program/toturial/Toturial By Olan/React/workshop/client/src/components/Product/ProductForm.js"],"names":["React","Component","connect","reduxForm","Field","FormField","productFormField","ProductForm","formFields","map","label","name","type","required","onProductSubmit","props","handleSubmit","renderFields","validate","values","console","log","errors","forEach","mapStateToProps","products","id","initialValues","form"],"mappings":"wzBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAmC,YAAnC,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,OAAQC,gBAAR,KAA8B,cAA9B,C,GAGMC,CAAAA,W,kRAEWC,U,CAAY,CACrB,MAAOA,CAAAA,UAAU,CAACC,GAAX,CAAe,cAAqC,IAAlCC,CAAAA,KAAkC,MAAlCA,KAAkC,CAA3BC,IAA2B,MAA3BA,IAA2B,CAArBC,IAAqB,MAArBA,IAAqB,CAAfC,QAAe,MAAfA,QAAe,CACvD,mBACI,oBAAC,KAAD,EAAO,GAAG,CAAGF,IAAb,CAAmB,IAAI,CAAEA,IAAzB,CAA+B,IAAI,CAAEC,IAArC,CAA2C,SAAS,CAAEP,SAAtD,CAAiE,KAAK,CAAEK,KAAxE,CAA+E,QAAQ,CAAEG,QAAzF,EADJ,CAGH,CAJM,CAAP,CAKH,C,uCAEQ,IACEC,CAAAA,eADF,CACoB,KAAKC,KADzB,CACED,eADF,CAEL,mBACI,4CACI,4BAAM,QAAQ,CAAE,KAAKC,KAAL,CAAWC,YAAX,CAAwBF,eAAxB,CAAhB,EACK,KAAKG,YAAL,CAAkBX,gBAAlB,CADL,cAEI,8BAAQ,SAAS,CAAC,8BAAlB,CAAiD,IAAI,CAAC,QAAtD,yCAFJ,CADJ,CADJ,CAUH,C,yBAtBqBL,S,EAyB1B,QAASiB,CAAAA,QAAT,CAAkBC,MAAlB,CAAyB,CACrBC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,GAAMG,CAAAA,MAAM,CAAE,EAAd,CACAhB,gBAAgB,CAACiB,OAAjB,CAAyB,eAAsB,IAApBZ,CAAAA,IAAoB,OAApBA,IAAoB,CAAdE,QAAc,OAAdA,QAAc,CAC3C,GAAG,CAACM,MAAM,CAACR,IAAD,CAAP,EAAiBE,QAApB,CAA6B,CACzBS,MAAM,CAACX,IAAD,CAAN,CAAc,wBAAd,CACH,CACJ,CAJD,EAKA,MAAOW,CAAAA,MAAP,CAEH,CAED,QAASE,CAAAA,eAAT,OAAoC,IAAVC,CAAAA,QAAU,OAAVA,QAAU,CAChC,GAAGA,QAAQ,EAAIA,QAAQ,CAACC,EAAxB,CAA2B,CACvB,MAAM,CAACC,aAAa,CAAGF,QAAjB,CAAN,CACH,CAFD,IAEK,CACD,MAAM,EAAN,CACH,CAEJ,CAEDlB,WAAW,CAAGJ,SAAS,CAAC,CAACe,QAAQ,CAARA,QAAD,CAAWU,IAAI,CAAE,aAAjB,CAAD,CAAT,CAA4CrB,WAA5C,CAAd,CAEA,cAAeL,CAAAA,OAAO,CAACsB,eAAD,CAAP,CAAyBjB,WAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport {connect} from \"react-redux\"\r\nimport { reduxForm, Field,  } from \"redux-form\";\r\nimport FormField from \"../common/FormField\";\r\nimport {productFormField} from\"./formFields\";\r\n\r\n\r\nclass ProductForm extends Component {\r\n\r\n    renderFields(formFields) {\r\n        return formFields.map(({ label, name, type, required }) => {\r\n            return (\r\n                <Field key= {name} name={name} type={type} component={FormField} label={label} required={required}/>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {onProductSubmit} =this.props;\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.props.handleSubmit(onProductSubmit)}>  \r\n                    {this.renderFields(productFormField)}\r\n                    <button className=\"btn btn-block btn-info title\" type=\"submit\">\r\n                        บันทึก\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction validate(values){\r\n    console.log(values);\r\n    const errors ={};\r\n    productFormField.forEach(({name, required}) => {\r\n        if(!values[name] && required){\r\n            errors[name] ='กรุณากรอกข้อมูลด้วยค่ะ'\r\n        }\r\n    });\r\n    return errors;\r\n\r\n}\r\n\r\nfunction mapStateToProps({products}){\r\n    if(products && products.id){\r\n        return{initialValues : products};\r\n    }else{\r\n        return{};\r\n    }\r\n   \r\n}\r\n\r\nProductForm = reduxForm({validate, form: \"productForm\" })(ProductForm);\r\n\r\nexport default connect(mapStateToProps)(ProductForm);\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\react\\\\toturial\\\\Olan\\\\React\\\\Workshop\\\\client\\\\src\\\\components\\\\Product\\\\ProductForm.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { reduxForm, Field } from \"redux-form\";\nimport FormField from \"../common/FormField\";\nimport { productFormField } from \"./formFields\";\n\nclass ProductForm extends Component {\n  renderFields(formFields) {\n    return formFields.map(({\n      label,\n      name,\n      type,\n      required\n    }) => {\n      return /*#__PURE__*/React.createElement(Field, {\n        key: name,\n        name: name,\n        type: type,\n        component: FormField,\n        label: label,\n        required: required,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 17\n        }\n      });\n    });\n  }\n\n  render() {\n    const {\n      onProductSubmit\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.props.handleSubmit(onProductSubmit),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }\n    }, this.renderFields(productFormField), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-block btn-info title\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 21\n      }\n    }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")));\n  }\n\n}\n\nfunction validate(values) {\n  console.log(values);\n  const errors = {};\n  productFormField.forEach(({\n    name,\n    required\n  }) => {\n    if (!values[name] && required) {\n      errors[name] = 'กรุณากรอกข้อมูลด้วยค่ะ';\n    }\n  });\n  return errors;\n}\n\nfunction mapStateToProps({\n  products\n}) {\n  if (products && products.id) {\n    return {\n      initialValues: products\n    };\n  } else {\n    return {};\n  }\n}\n\nProductForm = reduxForm({\n  validate,\n  form: \"productForm\"\n})(ProductForm);\nexport default connect(mapStateToProps)(ProductForm);","map":{"version":3,"sources":["C:/Users/User/Desktop/program/react/toturial/Olan/React/Workshop/client/src/components/Product/ProductForm.js"],"names":["React","Component","connect","reduxForm","Field","FormField","productFormField","ProductForm","renderFields","formFields","map","label","name","type","required","render","onProductSubmit","props","handleSubmit","validate","values","console","log","errors","forEach","mapStateToProps","products","id","initialValues","form"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAmC,YAAnC;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAAQC,gBAAR,QAA8B,cAA9B;;AAGA,MAAMC,WAAN,SAA0BN,SAA1B,CAAoC;AAEhCO,EAAAA,YAAY,CAACC,UAAD,EAAa;AACrB,WAAOA,UAAU,CAACC,GAAX,CAAe,CAAC;AAAEC,MAAAA,KAAF;AAASC,MAAAA,IAAT;AAAeC,MAAAA,IAAf;AAAqBC,MAAAA;AAArB,KAAD,KAAqC;AACvD,0BACI,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAGF,IAAb;AAAmB,QAAA,IAAI,EAAEA,IAAzB;AAA+B,QAAA,IAAI,EAAEC,IAArC;AAA2C,QAAA,SAAS,EAAER,SAAtD;AAAiE,QAAA,KAAK,EAAEM,KAAxE;AAA+E,QAAA,QAAQ,EAAEG,QAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH,KAJM,CAAP;AAKH;;AAEDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAACC,MAAAA;AAAD,QAAmB,KAAKC,KAA9B;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAKA,KAAL,CAAWC,YAAX,CAAwBF,eAAxB,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKR,YAAL,CAAkBF,gBAAlB,CADL,eAEI;AAAQ,MAAA,SAAS,EAAC,8BAAlB;AAAiD,MAAA,IAAI,EAAC,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAFJ,CADJ,CADJ;AAUH;;AAtB+B;;AAyBpC,SAASa,QAAT,CAAkBC,MAAlB,EAAyB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,QAAMG,MAAM,GAAE,EAAd;AACAjB,EAAAA,gBAAgB,CAACkB,OAAjB,CAAyB,CAAC;AAACZ,IAAAA,IAAD;AAAOE,IAAAA;AAAP,GAAD,KAAsB;AAC3C,QAAG,CAACM,MAAM,CAACR,IAAD,CAAP,IAAiBE,QAApB,EAA6B;AACzBS,MAAAA,MAAM,CAACX,IAAD,CAAN,GAAc,wBAAd;AACH;AACJ,GAJD;AAKA,SAAOW,MAAP;AAEH;;AAED,SAASE,eAAT,CAAyB;AAACC,EAAAA;AAAD,CAAzB,EAAoC;AAChC,MAAGA,QAAQ,IAAIA,QAAQ,CAACC,EAAxB,EAA2B;AACvB,WAAM;AAACC,MAAAA,aAAa,EAAGF;AAAjB,KAAN;AACH,GAFD,MAEK;AACD,WAAM,EAAN;AACH;AAEJ;;AAEDnB,WAAW,GAAGJ,SAAS,CAAC;AAACgB,EAAAA,QAAD;AAAWU,EAAAA,IAAI,EAAE;AAAjB,CAAD,CAAT,CAA4CtB,WAA5C,CAAd;AAEA,eAAeL,OAAO,CAACuB,eAAD,CAAP,CAAyBlB,WAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport {connect} from \"react-redux\"\r\nimport { reduxForm, Field,  } from \"redux-form\";\r\nimport FormField from \"../common/FormField\";\r\nimport {productFormField} from\"./formFields\";\r\n\r\n\r\nclass ProductForm extends Component {\r\n\r\n    renderFields(formFields) {\r\n        return formFields.map(({ label, name, type, required }) => {\r\n            return (\r\n                <Field key= {name} name={name} type={type} component={FormField} label={label} required={required}/>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {onProductSubmit} =this.props;\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.props.handleSubmit(onProductSubmit)}>  \r\n                    {this.renderFields(productFormField)}\r\n                    <button className=\"btn btn-block btn-info title\" type=\"submit\">\r\n                        บันทึก\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction validate(values){\r\n    console.log(values);\r\n    const errors ={};\r\n    productFormField.forEach(({name, required}) => {\r\n        if(!values[name] && required){\r\n            errors[name] ='กรุณากรอกข้อมูลด้วยค่ะ'\r\n        }\r\n    });\r\n    return errors;\r\n\r\n}\r\n\r\nfunction mapStateToProps({products}){\r\n    if(products && products.id){\r\n        return{initialValues : products};\r\n    }else{\r\n        return{};\r\n    }\r\n   \r\n}\r\n\r\nProductForm = reduxForm({validate, form: \"productForm\" })(ProductForm);\r\n\r\nexport default connect(mapStateToProps)(ProductForm);\r\n\r\n"]},"metadata":{},"sourceType":"module"}
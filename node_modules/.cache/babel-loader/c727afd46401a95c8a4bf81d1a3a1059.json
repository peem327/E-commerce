{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\src\\\\containers\\\\order\\\\Order.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport axios from \"axios\";\n\nclass Order extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orders: null\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:3001/orders\").then(res => {\n      this.setState({\n        orders: res.data\n      });\n    });\n  }\n\n  delOrder(order) {\n    axios.delete(\"http://localhost:3001/orders\" + order.id).then(res => {\n      axios.get(\"http://localhost:3001/orders\").then(res => {\n        this.setState({\n          orders: res.data\n        });\n      });\n    });\n  }\n\n  showOrders() {\n    return this.state.orders && this.state.orders.map(order => {\n      const date = new Date(order.orderedDate);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: order.id,\n        className: \"col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger btn-sm title\",\n        onClick: () => this.delOrder(order),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }\n      }, \"x\")), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }\n      }, \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", date.toLocaleDateString(), \" \", date.toLocaleTimeString()), /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }\n      }, order.orders && order.orders.map(record => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: record.product.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 33\n          }\n        }, record.product.productName, \" x \", record.quantity, \" =\", record.product.unitPrice * record.quantity);\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }, \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21 \", order.totalPrice, \" \"));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }, \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 33\n      }\n    }, this.showOrders())), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nexport default Order;","map":{"version":3,"sources":["C:/Users/User/Desktop/program/toturial/Toturial By Olan/React/workshop/client/src/containers/order/Order.js"],"names":["React","Component","Header","Footer","axios","Order","constructor","props","state","orders","componentDidMount","get","then","res","setState","data","delOrder","order","delete","id","showOrders","map","date","Date","orderedDate","toLocaleDateString","toLocaleTimeString","record","product","productName","quantity","unitPrice","totalPrice","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport axios from \"axios\";\r\n\r\nclass Order extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { orders: null };\r\n    }\r\n    componentDidMount() {\r\n        axios.get(\"http://localhost:3001/orders\").then(\r\n            res => {\r\n                this.setState({ orders: res.data });\r\n            }\r\n        )\r\n    }\r\n    delOrder(order) {\r\n        axios.delete(\"http://localhost:3001/orders\" + order.id).then(res => {\r\n            axios.get(\"http://localhost:3001/orders\").then(\r\n                res => {\r\n                    this.setState({ orders: res.data });\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    showOrders() {\r\n        return this.state.orders && this.state.orders.map(order => {\r\n            const date = new Date(order.orderedDate);\r\n            return (\r\n                <div key={order.id} className=\"col-md-3\">\r\n                    <hr />\r\n                    <p className=\"text-right\">\r\n                        <button className=\"btn btn-danger btn-sm title\" onClick={() => this.delOrder(order)}>x</button>\r\n                    </p>\r\n                    <h5>วันที่ {date.toLocaleDateString()} {date.toLocaleTimeString()}</h5>\r\n                    <ul>\r\n                        {order.orders && order.orders.map(record => {\r\n                            return (\r\n                                <li key={record.product.id}>\r\n                                    {record.product.productName} x {record.quantity} ={record.product.unitPrice * record.quantity}\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                    <p className=\"title\">ยอดรวม {order.totalPrice} </p>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n        render() {\r\n            return (\r\n                <div>\r\n                    <Header />\r\n                        <div className=\"container-fluid\">\r\n                            <h1>รายการสั่งซื้อ</h1>\r\n                                <div className=\"row\">\r\n                                    {this.showOrders()}\r\n                                </div>\r\n                        </div>\r\n\r\n                    <Footer />\r\n                </div >\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n\r\n    export default Order;"]},"metadata":{},"sourceType":"module"}
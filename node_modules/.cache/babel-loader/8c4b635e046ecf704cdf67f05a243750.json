{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\User\\\\Desktop\\\\program\\\\toturial\\\\Toturial By Olan\\\\React\\\\workshop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"../../components/Header\";import Footer from\"../../components/Footer\";import{connect}from\"react-redux\";import{ordersFetch,orderDelete}from\"../../actions\";var Order=/*#__PURE__*/function(_Component){_inherits(Order,_Component);var _super=_createSuper(Order);function Order(props){_classCallCheck(this,Order);return _super.call(this,props);}_createClass(Order,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.ordersFetch();}},{key:\"delOrder\",value:function delOrder(order){this.props.orderDelete(order.id);}},{key:\"showOrders\",value:function showOrders(){var _this=this;return this.props.orders&&this.props.orders.map(function(order){var date=new Date(order.orderedDate);return/*#__PURE__*/React.createElement(\"div\",{key:order.id,className:\"col-md-3\"},/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger btn-sm title\",onClick:function onClick(){return _this.delOrder(order);}},\"x\")),/*#__PURE__*/React.createElement(\"h5\",null,\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \",date.toLocaleDateString(),\" \",date.toLocaleTimeString()),/*#__PURE__*/React.createElement(\"ul\",null,order.orders&&order.orders.map(function(record){return/*#__PURE__*/React.createElement(\"li\",{key:record.product.id},record.product.productName,\" x \",record.quantity,\" = \",record.product.unitPrice*record.quantity);})),/*#__PURE__*/React.createElement(\"p\",{className:\"title\"},\"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21 \",order.totalPrice,\" \"));});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"h1\",null,\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.showOrders())),/*#__PURE__*/React.createElement(Footer,null));}}]);return Order;}(Component);function mepStateToProps(_ref){var orders=_ref.orders;return{orders:orders};}export default connect(mepStateToProps,{ordersFetch:ordersFetch,orderDelete:orderDelete})(Order);","map":{"version":3,"sources":["C:/Users/User/Desktop/program/toturial/Toturial By Olan/React/workshop/client/src/containers/order/Order.js"],"names":["React","Component","Header","Footer","connect","ordersFetch","orderDelete","Order","props","order","id","orders","map","date","Date","orderedDate","delOrder","toLocaleDateString","toLocaleTimeString","record","product","productName","quantity","unitPrice","totalPrice","showOrders","mepStateToProps"],"mappings":"wzBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,eAAvC,C,GAEMC,CAAAA,K,8FAEF,eAAYC,KAAZ,CAAmB,qDACTA,KADS,EAElB,C,+EACmB,CACjB,KAAKA,KAAL,CAAWH,WAAX,GACF,C,0CACQI,K,CAAO,CACZ,KAAKD,KAAL,CAAWF,WAAX,CAAuBG,KAAK,CAACC,EAA7B,EACH,C,+CAEY,gBACT,MAAO,MAAKF,KAAL,CAAWG,MAAX,EAAqB,KAAKH,KAAL,CAAWG,MAAX,CAAkBC,GAAlB,CAAsB,SAAAH,KAAK,CAAI,CACvD,GAAMI,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASL,KAAK,CAACM,WAAf,CAAb,CACA,mBACI,2BAAK,GAAG,CAAEN,KAAK,CAACC,EAAhB,CAAoB,SAAS,CAAC,UAA9B,eACI,8BADJ,cAEI,yBAAG,SAAS,CAAC,YAAb,eACI,8BAAQ,SAAS,CAAC,6BAAlB,CAAgD,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACM,QAAL,CAAcP,KAAd,CAAN,EAAzD,MADJ,CAFJ,cAKI,sEAAYI,IAAI,CAACI,kBAAL,EAAZ,KAAwCJ,IAAI,CAACK,kBAAL,EAAxC,CALJ,cAMI,8BACKT,KAAK,CAACE,MAAN,EAAgBF,KAAK,CAACE,MAAN,CAAaC,GAAb,CAAiB,SAAAO,MAAM,CAAI,CACxC,mBACI,0BAAI,GAAG,CAAEA,MAAM,CAACC,OAAP,CAAeV,EAAxB,EACKS,MAAM,CAACC,OAAP,CAAeC,WADpB,OACoCF,MAAM,CAACG,QAD3C,OACwDH,MAAM,CAACC,OAAP,CAAeG,SAAf,CAA2BJ,MAAM,CAACG,QAD1F,CADJ,CAKH,CANgB,CADrB,CANJ,cAeI,yBAAG,SAAS,CAAC,OAAb,0CAA6Bb,KAAK,CAACe,UAAnC,KAfJ,CADJ,CAmBH,CArB2B,CAA5B,CAsBH,C,uCAEY,CACL,mBACI,4CACI,oBAAC,MAAD,MADJ,cAEQ,2BAAK,SAAS,CAAC,iBAAf,eACI,qHADJ,cAEQ,2BAAK,SAAS,CAAC,KAAf,EACK,KAAKC,UAAL,EADL,CAFR,CAFR,cASI,oBAAC,MAAD,MATJ,CADJ,CAaH,C,mBAnDWxB,S,EAsDhB,QAASyB,CAAAA,eAAT,MAAmC,IAATf,CAAAA,MAAS,MAATA,MAAS,CAC/B,MAAM,CAACA,MAAM,CAANA,MAAD,CAAN,CACH,CAID,cAAgBP,CAAAA,OAAO,CAACsB,eAAD,CAAkB,CAACrB,WAAW,CAAXA,WAAD,CAAcC,WAAW,CAAXA,WAAd,CAAlB,CAAP,CAAqDC,KAArD,CAAhB","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport {connect} from \"react-redux\";\r\nimport {ordersFetch, orderDelete} from \"../../actions\";\r\n\r\nclass Order extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n       this.props.ordersFetch();\r\n    }\r\n    delOrder(order) {\r\n        this.props.orderDelete(order.id);\r\n    }\r\n\r\n    showOrders() {\r\n        return this.props.orders && this.props.orders.map(order => {\r\n            const date = new Date(order.orderedDate);\r\n            return (\r\n                <div key={order.id} className=\"col-md-3\">\r\n                    <hr />\r\n                    <p className=\"text-right\">\r\n                        <button className=\"btn btn-danger btn-sm title\" onClick={() => this.delOrder(order)}>x</button>\r\n                    </p>\r\n                    <h5>วันที่ {date.toLocaleDateString()} {date.toLocaleTimeString()}</h5>\r\n                    <ul>\r\n                        {order.orders && order.orders.map(record => {\r\n                            return (\r\n                                <li key={record.product.id}>\r\n                                    {record.product.productName} x {record.quantity} = {record.product.unitPrice * record.quantity}\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                    <p className=\"title\">ยอดรวม {order.totalPrice} </p>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n        render() {\r\n            return (\r\n                <div>\r\n                    <Header />\r\n                        <div className=\"container-fluid\">\r\n                            <h1>รายการสั่งซื้อ</h1>\r\n                                <div className=\"row\">\r\n                                    {this.showOrders()}\r\n                                </div>\r\n                        </div>\r\n\r\n                    <Footer />\r\n                </div >\r\n            )\r\n        }\r\n    }\r\n\r\n    function mepStateToProps({orders}) {\r\n        return{orders};\r\n    }\r\n\r\n\r\n\r\n    export default (connect(mepStateToProps, {ordersFetch, orderDelete})(Order));"]},"metadata":{},"sourceType":"module"}